(function(){"use strict";var t={8207:function(t,s,e){var a=e(2856),n=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],i={name:"App"},l=i,r=e(1656),c=(0,r.A)(l,n,o,!1,null,null,null),m=c.exports,d=e(1910),h=e(4927),u=e.n(h),p=(e(1475),e(7186)),f=e(1594),v=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[t._m(0),s("div",{staticClass:"main-content"},[s("h1",{staticClass:"page-title"},[t._v("第二届16联赛 Dota对战表")]),s("div",{staticClass:"battle-table-container"},[s("div",{staticClass:"table-header"},[s("h2",{staticClass:"table-title"},[t._v("对战记录")]),s("div",{staticClass:"table-actions"},[s("el-button",{staticClass:"add-match-btn",attrs:{type:"primary"},on:{click:t.openAddMatchModal}},[t._v(" 添加对战 ")])],1)]),s("el-table",{staticClass:"battle-table",staticStyle:{width:"100%"},attrs:{data:t.sortedMatches,stripe:""}},[s("el-table-column",{attrs:{prop:"rank",label:"排名",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"ranking-number"},[t._v(t._s(e.row.rank))])]}}])}),s("el-table-column",{attrs:{prop:"sponsor1",label:"赞助商1","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sponsor-name"},[t._v(t._s(e.row.sponsor1))])]}}])}),s("el-table-column",{attrs:{prop:"team1",label:"队伍1","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"team-name"},[t._v(t._s(e.row.team1))])]}}])}),s("el-table-column",{attrs:{prop:"score",label:"比分",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"score-display"},[t._v(t._s(e.row.score))])]}}])}),s("el-table-column",{attrs:{prop:"team2",label:"队伍2","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"team-name"},[t._v(t._s(e.row.team2))])]}}])}),s("el-table-column",{attrs:{prop:"sponsor2",label:"赞助商2","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sponsor-name"},[t._v(t._s(e.row.sponsor2))])]}}])}),s("el-table-column",{attrs:{prop:"date",label:"比赛日期",width:"110",align:"center"}}),s("el-table-column",{attrs:{prop:"status",label:"状态",width:"80",align:"center"}}),s("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticClass:"delete-btn",attrs:{type:"danger",size:"mini"},on:{click:function(s){return t.deleteMatch(e.$index)}}},[t._v(" 删除 ")])]}}])})],1)],1),s("div",{staticClass:"rankings-section"},[s("h2",{staticClass:"rankings-title"},[t._v("第二届16联赛积分排行榜")]),s("el-table",{staticClass:"rankings-table",staticStyle:{width:"100%"},attrs:{data:t.sortedTeamStats,stripe:""}},[s("el-table-column",{attrs:{prop:"rank",label:"排名",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{class:`rank-${e.row.rank}`},[t._v(t._s(e.row.rank))])]}}])}),s("el-table-column",{attrs:{prop:"sponsor",label:"赞助商","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sponsor-name"},[t._v(t._s(e.row.sponsor))])]}}])}),s("el-table-column",{attrs:{prop:"name",label:"队伍名称","min-width":"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"team-name clickable-team",attrs:{title:"点击查看对战详情"},on:{click:function(s){return t.showTeamDetails(e.row.name)}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"matches",label:"场次",width:"70",align:"center"}}),s("el-table-column",{attrs:{prop:"wins",label:"胜",width:"60",align:"center"}}),s("el-table-column",{attrs:{prop:"losses",label:"负",width:"60",align:"center"}}),s("el-table-column",{attrs:{prop:"winRate",label:"胜率",width:"120",align:"center"}}),s("el-table-column",{attrs:{prop:"points",label:"积分",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"points-display"},[t._v(t._s(e.row.points))])]}}])})],1)],1)]),s("el-dialog",{attrs:{title:"添加新对战",visible:t.addMatchModalVisible,width:"800px","before-close":t.closeAddMatchModal},on:{"update:visible":function(s){t.addMatchModalVisible=s}}},[s("el-form",{ref:"matchForm",attrs:{model:t.matchForm,rules:t.matchRules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"队伍1:",prop:"team1"}},[s("el-select",{attrs:{placeholder:"选择队伍"},on:{change:t.updateTeamSelectors},model:{value:t.matchForm.team1,callback:function(s){t.$set(t.matchForm,"team1",s)},expression:"matchForm.team1"}},t._l(t.availableTeams1,function(t){return s("el-option",{key:t.name,attrs:{label:`${t.sponsor}-${t.name}`,value:t.name}})}),1)],1),s("el-form-item",{attrs:{label:"队伍2:",prop:"team2"}},[s("el-select",{attrs:{placeholder:"选择队伍"},on:{change:t.updateTeamSelectors},model:{value:t.matchForm.team2,callback:function(s){t.$set(t.matchForm,"team2",s)},expression:"matchForm.team2"}},t._l(t.availableTeams2,function(t){return s("el-option",{key:t.name,attrs:{label:`${t.sponsor}-${t.name}`,value:t.name}})}),1),t.matchStatus.show?s("div",{class:`match-status ${t.matchStatus.type}`},[t._v(" "+t._s(t.matchStatus.text)+" ")]):t._e()],1),s("el-form-item",{attrs:{label:"比赛结果:",prop:"result"}},[s("div",{staticClass:"result-buttons"},[s("div",{staticClass:"result-option",class:{active:"2:0"===t.matchForm.result},on:{click:function(s){t.matchForm.result="2:0"}}},[s("div",{staticClass:"result-button"},[s("span",{staticClass:"result-text"},[t._v("队伍1获胜")]),s("span",{staticClass:"result-score"},[t._v("2:0")])])]),s("div",{staticClass:"result-option",class:{active:"1:1"===t.matchForm.result},on:{click:function(s){t.matchForm.result="1:1"}}},[s("div",{staticClass:"result-button"},[s("span",{staticClass:"result-text"},[t._v("平局")]),s("span",{staticClass:"result-score"},[t._v("1:1")])])]),s("div",{staticClass:"result-option",class:{active:"0:2"===t.matchForm.result},on:{click:function(s){t.matchForm.result="0:2"}}},[s("div",{staticClass:"result-button"},[s("span",{staticClass:"result-text"},[t._v("队伍2获胜")]),s("span",{staticClass:"result-score"},[t._v("0:2")])])])]),s("small",{staticClass:"form-hint"},[t._v("每场比赛打两局，只能选择以上三种结果")])]),s("el-form-item",{attrs:{label:"比赛日期:",prop:"date"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.matchForm.date,callback:function(s){t.$set(t.matchForm,"date",s)},expression:"matchForm.date"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"cancel-btn",on:{click:t.closeAddMatchModal}},[t._v("取消")]),s("el-button",{staticClass:"submit-btn",on:{click:t.submitMatch}},[t._v("添加对战")])],1)],1),s("el-dialog",{attrs:{title:"队伍详情",visible:t.teamDetailsModalVisible,width:"800px","before-close":t.closeTeamDetailsModal},on:{"update:visible":function(s){t.teamDetailsModalVisible=s}}},[t.selectedTeamDetails?s("div",{domProps:{innerHTML:t._s(t.selectedTeamDetails)}}):t._e()])],1)},b=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-content"},[s("div",{staticClass:"logo"},[s("div",{staticClass:"logo-icon"},[t._v("16")]),s("div",{staticClass:"logo-text"},[t._v("16联赛")])])])])}],w=(e(4114),e(8111),e(2489),e(116),e(7588),e(1701),e(3579),{name:"HomePage",data(){return{teams:[{sponsor:"福畅智达",name:"冥界"},{sponsor:"谦秋子皮",name:"大飞"},{sponsor:"星肾宝",name:"大熊"},{sponsor:"东方振兴",name:"小乖"},{sponsor:"杭州小圈",name:"约定"},{sponsor:"脆升升",name:"柒月"},{sponsor:"Eyebre",name:"荒年"},{sponsor:"海洋至尊",name:"My弟"},{sponsor:"OMG",name:"弑神"},{sponsor:"饱咕噜",name:"陈奕迅"},{sponsor:"盟趣",name:"杨无敌"}],matches:[],teamStats:{},addMatchModalVisible:!1,teamDetailsModalVisible:!1,matchForm:{team1:"",team2:"",result:"",date:""},matchRules:{team1:[{required:!0,message:"请选择队伍1",trigger:"change"}],team2:[{required:!0,message:"请选择队伍2",trigger:"change"}],result:[{required:!0,message:"请选择比赛结果",trigger:"change"}],date:[{required:!0,message:"请选择比赛日期",trigger:"change"}]},availableTeams1:[],availableTeams2:[],matchStatus:{show:!1,type:"",text:""},selectedTeamDetails:null}},computed:{sortedMatches(){return[...this.matches].sort((t,s)=>s.id-t.id).map((t,s)=>{const e=this.teams.find(s=>s.name===t.team1),a=this.teams.find(s=>s.name===t.team2);return{rank:s+1,id:t.id,sponsor1:e?e.sponsor:"",team1:t.team1,score:`${t.score1}:${t.score2}`,team2:t.team2,sponsor2:a?a.sponsor:"",date:t.date,status:t.status}})},sortedTeamStats(){if(!this.teamStats||0===Object.keys(this.teamStats).length)return[];const t=Object.entries(this.teamStats),s=t.filter(([,t])=>t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"points"));if(0===s.length)return[];const e=s.sort((t,s)=>s[1].points-t[1].points);return e.map(([t,s],e)=>{const a=s.matches>0?(s.wins/s.matches*100).toFixed(1):"0.0";return{rank:e+1,sponsor:s.sponsor,name:t,matches:s.matches,wins:s.wins,losses:s.losses,winRate:`${a}%`,points:s.points}})}},async mounted(){await this.loadMockData(),this.updateTeamStats()},methods:{initializeTeamStats(){this.teamStats={},this.teams.forEach(t=>{this.$set(this.teamStats,t.name,{sponsor:t.sponsor,matches:0,wins:0,losses:0,points:0})})},updateTeamStats(){this.initializeTeamStats(),this.matches.forEach(t=>{const s=t.team1,e=t.team2,a=parseInt(t.score1),n=parseInt(t.score2);this.$set(this.teamStats[s],"matches",this.teamStats[s].matches+1),this.$set(this.teamStats[e],"matches",this.teamStats[e].matches+1),2===a&&0===n?(this.$set(this.teamStats[s],"wins",this.teamStats[s].wins+1),this.$set(this.teamStats[s],"points",this.teamStats[s].points+3),this.$set(this.teamStats[e],"losses",this.teamStats[e].losses+1)):0===a&&2===n?(this.$set(this.teamStats[e],"wins",this.teamStats[e].wins+1),this.$set(this.teamStats[e],"points",this.teamStats[e].points+3),this.$set(this.teamStats[s],"losses",this.teamStats[s].losses+1)):1===a&&1===n&&(this.$set(this.teamStats[s],"points",this.teamStats[s].points+1),this.$set(this.teamStats[e],"points",this.teamStats[e].points+1))})},async loadMockData(){try{const t=await fetch("/mockData.json");if(!t.ok)throw new Error("Failed to load mock data");this.matches=await t.json()}catch(t){this.matches=[{id:1,team1:"冥界",score1:2,team2:"My弟",score2:0,date:"2025-10-18",status:"已完成"},{id:2,team1:"大飞",score1:2,team2:"荒年",score2:0,date:"2025-10-18",status:"已完成"},{id:3,team1:"大熊",score1:1,team2:"小乖",score2:1,date:"2025-10-19",status:"已完成"},{id:4,team1:"约定",score1:1,team2:"柒月",score2:1,date:"2025-10-19",status:"已完成"}]}},hasPlayedBefore(t,s){return this.matches.some(e=>e.team1===t&&e.team2===s||e.team1===s&&e.team2===t)},updateTeamSelectors(){const{team1:t,team2:s}=this.matchForm;if(this.availableTeams1=this.teams.filter(t=>!s||!this.hasPlayedBefore(t.name,s)),this.availableTeams2=this.teams.filter(s=>!t||!this.hasPlayedBefore(t,s.name)),t&&s){const e=this.hasPlayedBefore(t,s);this.matchStatus={show:!0,type:e?"warning":"success",text:e?"⚠️ 这两个队伍已经对战过了！":"✅ 可以添加新的对战"}}else this.matchStatus.show=!1},openAddMatchModal(){this.matchForm={team1:"",team2:"",result:"",date:""},this.matchStatus.show=!1,this.availableTeams1=[...this.teams],this.availableTeams2=[...this.teams],this.addMatchModalVisible=!0},closeAddMatchModal(){this.addMatchModalVisible=!1},submitMatch(){this.$refs.matchForm.validate(t=>{if(!t)return;const{team1:s,team2:e,result:a,date:n}=this.matchForm;if(s===e)return void this.$message.error("不能选择相同的队伍！");if(this.hasPlayedBefore(s,e))return void this.$message.error("这两个队伍已经对战过了！");const o={"2:0":[2,0],"1:1":[1,1],"0:2":[0,2]},i=o[a];if(!i)return void this.$message.error("请选择有效的比赛结果！");const l={id:this.matches.length+1,team1:s,score1:i[0],team2:e,score2:i[1],date:n,status:"已完成"};this.matches.push(l),this.updateTeamStats(),this.closeAddMatchModal(),this.$message.success("对战记录添加成功！")})},deleteMatch(t){this.$confirm("确定要删除这场对战吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.matches.splice(t,1),this.updateTeamStats(),this.$message.success("删除成功！")}).catch(()=>{this.$message.info("已取消删除")})},showTeamDetails(t){const s=this.matches.filter(s=>s.team1===t||s.team2===t),e=this.teams.find(s=>s.name===t),a=this.teamStats[t];let n=`\n        <div class="team-details-header">\n          <h3>${e.sponsor} - ${t}</h3>\n          <div class="team-stats-summary">\n            <div class="stat-item">\n              <span class="stat-label">总场次:</span>\n              <span class="stat-value">${a.matches}</span>\n            </div>\n            <div class="stat-item">\n              <span class="stat-label">胜场:</span>\n              <span class="stat-value">${a.wins}</span>\n            </div>\n            <div class="stat-item">\n              <span class="stat-label">负场:</span>\n              <span class="stat-value">${a.losses}</span>\n            </div>\n            <div class="stat-item">\n              <span class="stat-label">积分:</span>\n              <span class="stat-value">${a.points}</span>\n            </div>\n          </div>\n        </div>\n        <div class="team-matches-list">\n          <h4>对战记录</h4>\n      `;0===s.length?n+='<p class="no-matches">暂无对战记录</p>':(n+='<div class="matches-table">',s.forEach(s=>{const a=s.team1===t?s.team2:s.team1,o=this.teams.find(t=>t.name===a),i=s.team1===t&&s.score1>s.score2||s.team2===t&&s.score2>s.score1,l=s.score1===s.score2;let r="draw",c="平局";i?(r="win",c="胜利"):l||(r="loss",c="失败"),n+=`\n            <div class="match-item ${r}">\n              <div class="match-date">${s.date}</div>\n              <div class="match-opponent">${e.sponsor}-${t} vs ${o.sponsor}-${a}</div>\n              <div class="match-score">${s.score1}:${s.score2}</div>\n              <div class="match-result">${c}</div>\n            </div>\n          `}),n+="</div>"),n+="</div>",this.selectedTeamDetails=n,this.teamDetailsModalVisible=!0},closeTeamDetailsModal(){this.teamDetailsModalVisible=!1}}}),y=w,g=(0,r.A)(y,v,b,!1,null,"37d2912b",null),_=g.exports;a.Ay.use(f.Ay);const S=[{path:"/",name:"16联赛",component:_}],k=new f.Ay({mode:"hash",base:"",routes:S});var $=k;a.Ay.config.productionTip=!1,a.Ay.use(d.Ay),a.Ay.use(u()),a.Ay.prototype.$http=p.Ay;const M=new d.Ay.Store({state:{count:0},mutations:{increment(t){t.count++},decrement(t){t.count--}},actions:{}});new a.Ay({router:$,store:M,render:t=>t(m)}).$mount("#app")}},s={};function e(a){var n=s[a];if(void 0!==n)return n.exports;var o=s[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(s,a,n,o){if(!a){var i=1/0;for(m=0;m<t.length;m++){a=t[m][0],n=t[m][1],o=t[m][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(e.O).every(function(t){return e.O[t](a[r])})?a.splice(r--,1):(l=!1,o<i&&(i=o));if(l){t.splice(m--,1);var c=n();void 0!==c&&(s=c)}}return s}o=o||0;for(var m=t.length;m>0&&t[m-1][2]>o;m--)t[m]=t[m-1];t[m]=[a,n,o]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var n,o,i=a[0],l=a[1],r=a[2],c=0;if(i.some(function(s){return 0!==t[s]})){for(n in l)e.o(l,n)&&(e.m[n]=l[n]);if(r)var m=r(e)}for(s&&s(a);c<i.length;c++)o=i[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(m)},a=self["webpackChunk_16ls"]=self["webpackChunk_16ls"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[541,589,737,468,188,111,614,369,904,855,475,277],function(){return e(8207)});a=e.O(a)})();