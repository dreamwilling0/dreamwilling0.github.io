(function(){"use strict";var t={1510:function(t,e,s){var a=s(2856),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o={name:"App"},r=o,c=s(1656),l=(0,c.A)(r,i,n,!1,null,null,null),m=l.exports,h=s(1910),d=s(4927),u=s.n(d),p=(s(1475),s(7186)),v=s(1594),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"battle-section"},[e("div",{staticClass:"section-header"},[e("h2",{staticClass:"section-title"},[t._v("对战记录")]),e("el-button",{staticClass:"add-match-btn",attrs:{type:"primary"},on:{click:t.openAddMatchModal}},[t._v(" 添加对战 ")])],1),e("div",{staticClass:"battle-table-container"},[e("table",{staticClass:"battle-table"},[t._m(1),e("tbody",t._l(t.sortedMatches,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"ranking-number"},[t._v(t._s(s.rank))]),e("td",{staticClass:"sponsor-name"},[t._v(t._s(s.sponsor1))]),e("td",{staticClass:"team-name clickable",on:{click:function(e){return t.showMatchDetails(s)}}},[t._v(" "+t._s(s.team1)+" ")]),e("td",{staticClass:"score-display clickable",on:{click:function(e){return t.showMatchDetails(s)}}},[t._v(" "+t._s(s.score)+" ")]),e("td",{staticClass:"team-name clickable",on:{click:function(e){return t.showMatchDetails(s)}}},[t._v(" "+t._s(s.team2)+" ")]),e("td",{staticClass:"sponsor-name"},[t._v(t._s(s.sponsor2))]),e("td",[t._v(t._s(s.date))]),e("td",[t._v(t._s(s.status))]),e("td",[e("button",{staticClass:"delete-btn",on:{click:function(e){return t.deleteMatch(s.rank-1)}}},[t._v(" 删除 ")])])])}),0)])])]),e("div",{staticClass:"rankings-section"},[e("h2",{staticClass:"rankings-title"},[t._v("第二届16联赛积分排行榜")]),e("div",{staticClass:"rankings-table-container"},[e("table",{staticClass:"rankings-table"},[t._m(2),e("tbody",t._l(t.sortedTeamStats,function(s){return e("tr",{key:s.name},[e("td",{staticClass:"ranking-number"},[t._v(t._s(s.rank))]),e("td",{staticClass:"sponsor-name"},[t._v(t._s(s.sponsor))]),e("td",{staticClass:"team-name",on:{click:function(e){return t.showTeamDetails(s)}}},[t._v(" "+t._s(s.name)+" ")]),e("td",[t._v(t._s(s.matches))]),e("td",[t._v(t._s(s.wins))]),e("td",[t._v(t._s(s.losses))]),e("td",[t._v(t._s(s.winRate))]),e("td",{staticClass:"points-display"},[t._v(t._s(s.points))])])}),0)])])])]),e("el-dialog",{staticClass:"match-dialog",attrs:{title:"添加对战记录",visible:t.addMatchModalVisible,width:"500px"},on:{"update:visible":function(e){t.addMatchModalVisible=e}}},[e("el-form",{ref:"matchForm",attrs:{model:t.matchForm,rules:t.matchRules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"队伍1",prop:"team1"}},[e("el-select",{attrs:{placeholder:"请选择队伍1"},on:{change:t.onTeam1Change},model:{value:t.matchForm.team1,callback:function(e){t.$set(t.matchForm,"team1",e)},expression:"matchForm.team1"}},t._l(t.teams,function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),e("el-form-item",{attrs:{label:"队伍2",prop:"team2"}},[e("el-select",{attrs:{placeholder:"请选择队伍2"},on:{change:t.onTeam2Change},model:{value:t.matchForm.team2,callback:function(e){t.$set(t.matchForm,"team2",e)},expression:"matchForm.team2"}},t._l(t.teams,function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),e("el-form-item",{attrs:{label:"比赛结果",prop:"result"}},[e("div",{staticClass:"result-selector"},[e("div",{staticClass:"result-option",class:{active:"team1-win"===t.matchForm.result},on:{click:function(e){return t.selectResult("team1-win")}}},[e("span",{staticClass:"team-name"},[t._v(t._s(t.matchForm.team1||"队伍1"))]),e("span",{staticClass:"vs-text"},[t._v("胜")])]),e("div",{staticClass:"result-option",class:{active:"draw"===t.matchForm.result},on:{click:function(e){return t.selectResult("draw")}}},[e("span",{staticClass:"vs-text"},[t._v("平局")])]),e("div",{staticClass:"result-option",class:{active:"team2-win"===t.matchForm.result},on:{click:function(e){return t.selectResult("team2-win")}}},[e("span",{staticClass:"vs-text"},[t._v("胜")]),e("span",{staticClass:"team-name"},[t._v(t._s(t.matchForm.team2||"队伍2"))])])])]),e("el-form-item",{attrs:{label:"比赛日期",prop:"date"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.matchForm.date,callback:function(e){t.$set(t.matchForm,"date",e)},expression:"matchForm.date"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"cancel-btn",on:{click:t.closeAddMatchModal}},[t._v("取消")]),e("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:t.submitMatch}},[t._v("确定")])],1)],1),e("el-dialog",{staticClass:"team-details-dialog",attrs:{title:"队伍详情",visible:t.teamDetailsModalVisible,width:"700px"},on:{"update:visible":function(e){t.teamDetailsModalVisible=e}}},[t.selectedTeam?e("div",{staticClass:"team-details"},[e("h3",[t._v(t._s(t.selectedTeam.name))]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"label"},[t._v("赞助商")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.sponsor))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"label"},[t._v("总场次")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.matches))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"label"},[t._v("胜场")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.wins))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"label"},[t._v("负场")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.losses))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"label"},[t._v("胜率")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.winRate))])]),e("div",{staticClass:"detail-item points-highlight"},[e("span",{staticClass:"label"},[t._v("积分")]),e("span",{staticClass:"value"},[t._v(t._s(t.selectedTeam.points))])]),e("div",{staticClass:"team-matches-section"},[e("h4",[t._v("对战记录")]),e("div",{staticClass:"matches-list"},[t._l(t.selectedTeamMatches,function(s,a){return e("div",{key:s.id,staticClass:"match-record"},[e("div",{staticClass:"match-index"},[t._v(t._s(a+1))]),e("div",{staticClass:"match-info"},[e("div",{staticClass:"opponent-info"},[e("span",{staticClass:"opponent-sponsor"},[t._v(t._s(t.getOpponentSponsor(s)))]),e("span",{staticClass:"opponent-name"},[t._v(t._s(t.getOpponentName(s)))])]),e("div",{staticClass:"match-result"},[e("span",{staticClass:"score"},[t._v(t._s(t.getMatchScore(s)))]),e("span",{staticClass:"result",class:t.getMatchResult(s).class},[t._v(t._s(t.getMatchResult(s).text))])])]),e("div",{staticClass:"match-date"},[t._v(t._s(s.date))])])}),0===t.selectedTeamMatches.length?e("div",{staticClass:"no-matches"},[t._v(" 暂无对战记录 ")]):t._e()],2)])]):t._e()])],1)},f=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("h1",{staticClass:"page-title"},[t._v("第二届16联赛")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("排名")]),e("th",[t._v("赞助商1")]),e("th",[t._v("队伍1")]),e("th",[t._v("比分")]),e("th",[t._v("队伍2")]),e("th",[t._v("赞助商2")]),e("th",[t._v("比赛日期")]),e("th",[t._v("状态")]),e("th",[t._v("操作")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("排名")]),e("th",[t._v("赞助商")]),e("th",[t._v("队伍名称")]),e("th",[t._v("场次")]),e("th",[t._v("胜场")]),e("th",[t._v("负场")]),e("th",[t._v("胜率")]),e("th",[t._v("积分")])])])}],b=(s(4114),s(8111),s(2489),s(116),s(7588),s(1701),s(3579),{name:"HomePage",data(){return{teams:[{sponsor:"福畅智达",name:"冥界"},{sponsor:"谦秋子皮",name:"大飞"},{sponsor:"星肾宝",name:"大熊"},{sponsor:"东方振兴",name:"小乖"},{sponsor:"杭州小圈",name:"约定"},{sponsor:"脆升升",name:"柒月"},{sponsor:"Eyebre",name:"荒年"},{sponsor:"海洋至尊",name:"My弟"},{sponsor:"OMG",name:"弑神"},{sponsor:"饱咕噜",name:"陈奕迅"},{sponsor:"盟趣",name:"杨无敌"}],matches:[],teamStats:{},addMatchModalVisible:!1,teamDetailsModalVisible:!1,selectedTeam:null,selectedTeamMatches:[],matchForm:{team1:"",team2:"",result:"",date:""},matchRules:{team1:[{required:!0,message:"请选择队伍1",trigger:"change"}],team2:[{required:!0,message:"请选择队伍2",trigger:"change"}],result:[{required:!0,message:"请选择比赛结果",trigger:"change"}],date:[{required:!0,message:"请选择比赛日期",trigger:"change"}]},selectedTeamDetails:null}},computed:{sortedMatches(){return[...this.matches].sort((t,e)=>e.id-t.id).map((t,e)=>{const s=this.teams.find(e=>e.name===t.team1),a=this.teams.find(e=>e.name===t.team2);return{rank:e+1,id:t.id,sponsor1:s?s.sponsor:"",team1:t.team1,score:`${t.score1}:${t.score2}`,team2:t.team2,sponsor2:a?a.sponsor:"",date:t.date,status:t.status}})},sortedTeamStats(){if(!this.teamStats||0===Object.keys(this.teamStats).length)return[];const t=Object.entries(this.teamStats),e=t.filter(([,t])=>t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"points"));if(0===e.length)return[];const s=e.sort((t,e)=>e[1].points-t[1].points);return s.map(([t,e],s)=>{const a=e.matches>0?(e.wins/e.matches*100).toFixed(1):"0.0";return{rank:s+1,sponsor:e.sponsor,name:t,matches:e.matches,wins:e.wins,losses:e.losses,winRate:`${a}%`,points:e.points}})}},async mounted(){await this.loadMockData(),this.updateTeamStats()},methods:{async loadMockData(){try{const t=await fetch("/mockData.json");if(!t.ok)throw new Error("Failed to load mock data");const e=await t.json();this.matches=[...e]}catch(t){this.$message.error("加载数据失败")}},initializeTeamStats(){this.teamStats={},this.teams.forEach(t=>{this.$set(this.teamStats,t.name,{sponsor:t.sponsor,matches:0,wins:0,losses:0,points:0})})},updateTeamStats(){this.initializeTeamStats(),this.matches.forEach(t=>{const e=t.team1,s=t.team2,a=parseInt(t.score1),i=parseInt(t.score2);this.$set(this.teamStats[e],"matches",this.teamStats[e].matches+1),this.$set(this.teamStats[s],"matches",this.teamStats[s].matches+1),2===a&&0===i?(this.$set(this.teamStats[e],"wins",this.teamStats[e].wins+1),this.$set(this.teamStats[e],"points",this.teamStats[e].points+3),this.$set(this.teamStats[s],"losses",this.teamStats[s].losses+1)):0===a&&2===i?(this.$set(this.teamStats[s],"wins",this.teamStats[s].wins+1),this.$set(this.teamStats[s],"points",this.teamStats[s].points+3),this.$set(this.teamStats[e],"losses",this.teamStats[e].losses+1)):1===a&&1===i&&(this.$set(this.teamStats[e],"points",this.teamStats[e].points+1),this.$set(this.teamStats[s],"points",this.teamStats[s].points+1))})},openAddMatchModal(){this.addMatchModalVisible=!0,this.matchForm={team1:"",team2:"",result:"",date:""}},closeAddMatchModal(){this.addMatchModalVisible=!1,this.$refs.matchForm.resetFields()},onTeam1Change(){this.matchForm.team1===this.matchForm.team2&&(this.matchForm.team2="")},onTeam2Change(){this.matchForm.team2===this.matchForm.team1&&(this.matchForm.team1="")},selectResult(t){this.matchForm.result=t},submitMatch(){this.$refs.matchForm.validate(t=>{if(t){if(this.matchForm.team1===this.matchForm.team2)return void this.$message.error("不能选择相同的队伍！");if(this.hasPlayedBefore(this.matchForm.team1,this.matchForm.team2))return void this.$message.error("这两个队伍已经对战过了！");const t={id:Date.now(),team1:this.matchForm.team1,team2:this.matchForm.team2,score1:this.getScore1(),score2:this.getScore2(),date:this.formatDate(this.matchForm.date),status:"已完成"};this.matches.push(t),this.updateTeamStats(),this.closeAddMatchModal(),this.$message.success("对战记录添加成功！")}})},getScore1(){switch(this.matchForm.result){case"team1-win":return 2;case"team2-win":return 0;case"draw":return 1;default:return 0}},getScore2(){switch(this.matchForm.result){case"team1-win":return 0;case"team2-win":return 2;case"draw":return 1;default:return 0}},formatDate(t){if(!t)return"";const e=new Date(t),s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${s}-${a}-${i}`},hasPlayedBefore(t,e){return this.matches.some(s=>s.team1===t&&s.team2===e||s.team1===e&&s.team2===t)},deleteMatch(t){this.$confirm("确定要删除这条对战记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.matches.splice(t,1),this.updateTeamStats(),this.$message.success("删除成功！")}).catch(()=>{this.$message.info("已取消删除")})},showTeamDetails(t){this.selectedTeam=t,this.selectedTeamMatches=this.matches.filter(e=>e.team1===t.name||e.team2===t.name).sort((t,e)=>new Date(e.date)-new Date(t.date)),this.teamDetailsModalVisible=!0},getOpponentSponsor(t){const e=t.team1===this.selectedTeam.name,s=e?t.team2:t.team1,a=this.teams.find(t=>t.name===s);return a?.sponsor||""},getOpponentName(t){const e=t.team1===this.selectedTeam.name;return e?t.team2:t.team1},getMatchScore(t){const e=t.team1===this.selectedTeam.name;return e?`${t.score1}:${t.score2}`:`${t.score2}:${t.score1}`},getMatchResult(t){const e=t.team1===this.selectedTeam.name;let s,a;if(t.score1===t.score2)s="平局",a="draw";else{const i=e?t.score1>t.score2:t.score2>t.score1;s=i?"胜":"负",a=i?"win":"lose"}return{text:s,class:a}}}}),g=b,C=(0,c.A)(g,_,f,!1,null,"1e933b96",null),w=C.exports;a.Ay.use(v.Ay);const y=[{path:"/",name:"16联赛",component:w}],S=new v.Ay({mode:"hash",base:"",routes:y});var M=S;a.Ay.config.productionTip=!1,a.Ay.use(h.Ay),a.Ay.use(u()),a.Ay.prototype.$http=p.Ay;const k=new h.Ay.Store({state:{count:0},mutations:{increment(t){t.count++},decrement(t){t.count--}},actions:{}});new a.Ay({router:M,store:k,render:t=>t(m)}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,a,i,n){if(!a){var o=1/0;for(m=0;m<t.length;m++){a=t[m][0],i=t[m][1],n=t[m][2];for(var r=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every(function(t){return s.O[t](a[c])})?a.splice(c--,1):(r=!1,n<o&&(o=n));if(r){t.splice(m--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var m=t.length;m>0&&t[m-1][2]>n;m--)t[m]=t[m-1];t[m]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,o=a[0],r=a[1],c=a[2],l=0;if(o.some(function(e){return 0!==t[e]})){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var m=c(s)}for(e&&e(a);l<o.length;l++)n=o[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(m)},a=self["webpackChunk_16ls"]=self["webpackChunk_16ls"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[541,589,737,468,188,111,614,369,904,855,475,277],function(){return s(1510)});a=s.O(a)})();